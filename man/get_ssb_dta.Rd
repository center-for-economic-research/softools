% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_ssb_kommunedata.R
\name{get_ssb_dta}
\alias{get_ssb_dta}
\title{Hent data fra SSB}
\usage{
get_ssb_dta(ssb_tbl_id, aar, statistikkvariabel, kommuner, params = NULL)
}
\arguments{
\item{ssb_tbl_id}{Character. ID for tabellen som skal hentes fra SSB.}

\item{aar}{Character. Ett eller flere årstall som data skal hentes for.}

\item{statistikkvariabel}{Character. Kode for statistikkvariabelen som skal hentes.}

\item{kommuner}{Character vector. En vektor med kommunenummer (fire siffer).}

\item{params}{List. Valgfrie parametere for API-kallet.}
}
\value{
En data.frame med data fra SSB.
}
\description{
Denne funksjonen laster ned data fra Statistisk sentralbyrå (SSB) via deres API.
Funksjonen er laget for å hente data for kommuner.
}
\details{
Merk: Dersom argumentet `makeNAstatus = TRUE` benyttes i PxWebApiData::ApiData (som denne funksjonen gjør), forsøker funksjonen å legge til en kolonne `NAstatus` i datasettet. Dette er ikke garantert for alle tabeller: Om tabellen fra SSB ikke inneholder nødvendig metadata, vil kolonnen ikke bli lagt til. Funksjonen sjekker derfor alltid om `NAstatus` finnes før den brukes. Dersom kolonnen finnes, fjernes rader der `NAstatus == "."` (som vanligvis betyr at det ikke finnes observasjon for enheten). Hvis ikke, gis det en melding, og ingen rader fjernes basert på NAstatus.

Dette betyr at tilstedeværelsen av `NAstatus`-kolonnen ikke er stabil, og brukere bør ikke forvente at den alltid er tilgjengelig i resultatet.
}
\examples{
# Hent befolkningstall for kommuner i 2020 fra SSB tabell "07459"
# (forutsetter at PxWebApiData og httr er installert og lastet)
dta <- get_ssb_dta(
  ssb_tbl_id = "07459",
  aar = "2020",
  statistikkvariabel = "Personer",
  kommuner = c("0301", "1103", "5001")
)
head(dta)

# Merk: Dette eksempelet forutsetter at tabell-id og variabelnavn er gyldige for valgt aar.

}
